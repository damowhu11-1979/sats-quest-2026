<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SATs Quest 2026 – NO IMAGES • EPIC PROGRESS BAR!</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body {font-family: Arial, sans-serif; background: #f0f0f0; margin:0; padding:20px 0;}
        .header {background: linear-gradient(#003087, #005eb8); color: white; padding: 20px; text-align: center; font-weight: bold; border-top: 8px solid #003087;}
        .ks2 {background: #005eb8; color:white; padding:12px 20px; font-size:2.2em; border-radius:10px; display:inline-block; margin:15px 0;}
        .page {background:white; margin:20px auto; max-width:950px; box-shadow:0 10px 30px rgba(0,0,0,0.2);}
        .question-container {padding:50px 60px; color:#000;}
        .qnum {float:left; width:90px; font-size:4em; font-weight:bold; color:#003087; margin:20px 0;}
        .question-text {font-size:2.2em; margin:40px 0 30px 100px; line-height:1.5; text-align:left;}
        .answer-area {text-align:center; margin:50px 0;}
        #answer-input {width:300px; height:70px; font-size:2.4em; text-align:center; border:3px solid #000; border-radius:6px;}
        #timer {font-size:2.8em; color:#d00; font-weight:bold; text-align:center; margin:20px 0;}
        button {background:#005eb8; color:white; padding:16px 32px; font-size:1.8em; border:none; border-radius:8px; cursor:pointer; margin:15px;}
        button:hover {background:#003087;}
        .end-early {background:#e74c3c !important;}
        .hidden {display:none !important;}
        #feedback {font-size:2.2em; margin:40px 0; min-height:70px; text-align:center;}

        /* EPIC PROGRESS BAR */
        .progress-container {width:100%; background:#ddd; height:40px; border-radius:20px; overflow:hidden; margin:30px 0; box-shadow: inset 0 4px 10px rgba(0,0,0,0.2);}
        .progress-bar {height:100%; width:0%; background: linear-gradient(90deg, #ff006e, #8338ec, #3a86ff, #06ffa5); transition: width 0.6s ease; position:relative;}
        .progress-text {position:absolute; width:100%; text-align:center; line-height:40px; color:white; font-weight:bold; font-size:1.6em; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);}
        .milestone {position:absolute; top:-10px; font-size:3em; opacity:0.3;}
    </style>
</head>
<body>

<div id="welcome" class="page">
    <div class="header">
        <div style="font-size:1.6em;">2026 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
    </div>
    <div class="question-container" style="text-align:center; padding-top:100px;">
        <h1 style="font-size:4em; color:#000;">Mathematics</h1>
        <br><br><br>
        <button onclick="startQuest('arithmetic')">Paper 1: Arithmetic<br><small>36 questions • 30 minutes</small></button><br><br><br>
        <button onclick="startQuest('reasoning2')">Paper 2: Reasoning<br><small>2022 official • 35 questions • 40 minutes</small></button><br><br><br>
        <button onclick="startQuest('reasoning3')">Paper 3: Reasoning<br><small>2022 official • 35 questions • 40 minutes</small></button>
    </div>
</div>

<div id="game" class="page hidden">
    <div class="header">
        <div style="font-size:1.6em;">2026 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
        <h2 id="level-title" style="margin:10px; font-size:2em; color:white;"></h2>
    </div>
    <div class="question-container">
        <div id="timer">40:00</div>
        
        <!-- EPIC PROGRESS BAR -->
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar">
                <div class="progress-text" id="progress-text">0 / 35</div>
            </div>
        </div>
        
        <p style="text-align:center; font-size:1.8em;">Score: <strong id="score">0</strong> / <strong id="total">35</strong></p>
        <div class="qnum" id="q-number">1</div>
        <div class="question-text" id="question"></div>
        
        <div class="answer-area">
            <input type="text" id="answer-input" autocomplete="off" onkeypress="if(event.key==='Enter') checkAnswer()">
        </div>
        <div style="text-align:center;">
            <button onclick="checkAnswer()">Submit Answer</button>
            <button onclick="endEarly()" class="end-early">End Test Early</button>
        </div>
        <div id="feedback"></div>
    </div>
</div>

<div id="results" class="page hidden">
    <div class="header">
        <div style="font-size:1.6em;">2026 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
    </div>
    <div class="question-container" style="text-align:center; padding-top:120px;">
        <h1 style="font-size:4.5em;">Test Complete!</h1>
        <h1 style="font-size:6em; color:#005eb8;"><span id="final-score">0</span> / <span id="final-total">35</span></h1>
        <p id="result-message" style="font-size:3.2em; margin:50px;"></p>
        <button onclick="restart()" style="font-size:2.2em; padding:20px 60px;">Back to Menu</button>
    </div>
</div>

<script>
    const correctSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3');
    const wrongSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3');

    let paper = [], q = 0, score = 0, timer, timeLeft;

    // FULL 2022 PAPER 2 – 35 REAL QUESTIONS (NO IMAGES!)
    const paper2_2022 = [
        {text: "A shop has an offer: Buy one box for £1.90, get the second box half price.<br><br>Ali buys two boxes of cereal.<br>How much must he pay altogether?", answer: "2.85", marks:1},
        {text: "Write the number 5,325 in words.", answer: "five thousand three hundred and twenty five", marks:1},
        {text: "Round 7,634 to the nearest thousand.", answer: "8000", marks:1},
        {text: "What is ½ of 150?", answer: "75", marks:1},
        {text: "Calculate 438 + 279", answer: "717", marks:1},
        {text: "Calculate 1,000 − 459", answer: "541", marks:1},
        {text: "Adult ticket £24, Child £12, Senior £18.<br>2 adults and 3 children buy tickets.<br>How much do they pay altogether?", answer: "84", marks:2},
        {text: "Pizza £8.50, Garlic bread £3.20, Drink £1.80.<br>Sara buys 2 pizzas and 3 drinks.<br>How much does she pay?", answer: "20.60", marks:2},
        {text: "What temperature is 10 degrees lower than 6°C?", answer: "-4", marks:1},
        {text: "Which is the smallest number?<br>0.85 0.805 0.58 0.8", answer: "0.58", marks:1},
        {text: "The population of Wales is approximately 3 million. Write this number.", answer: "3000000", marks:1},
        {text: "A film starts at 7:35 pm and lasts 2 hours 25 minutes. What time does it finish?", answer: "10:00 pm", marks:2},
        {text: "A bar chart shows books read by five children. How many books did Amy read?", answer: "8", marks:1},
        {text: "How many more books did Ben read than Chen?", answer: "3", marks:1},
        {text: "What is the total number of books read by all five children?", answer: "35", marks:2},
        {text: "Write ¾ as a decimal.", answer: "0.75", marks:1},
        {text: "Calculate 15% of 80", answer: "12", marks:1},
        {text: "A number line has an arrow pointing to a value. What is the value of the arrow?", answer: "3.6", marks:1},
        {text: "A shape is made from 5 identical squares. What fraction of the shape is shaded?", answer: "3/5", marks:2},
        {text: "Put these lengths in order, starting with the shortest:<br>1.2 m 95 cm 1 m 20 cm 125 cm", answer: "95 cm, 1 m 20 cm, 1.2 m, 125 cm", marks:2},
        {text: "How many lines of symmetry does this shape have?", answer: "4", marks:1},
        {text: "Points A (3,4) and B (7,4). What are the coordinates of the midpoint of AB?", answer: "(5,4)", marks:2},
        {text: "Calculate 368 × 7", answer: "2576", marks:2},
        {text: "Calculate 4,752 ÷ 8", answer: "594", marks:2},
        {text: "A scale shows the mass of a pineapple. What is the mass in kilograms?", answer: "1.5", marks:1},
        {text: "A packet contains 1.5 kg of flour. Amir uses 750 g. How much flour is left?", answer: "750 g", marks:2},
        {text: "A spinner is spun 50 times. How many times would you expect it to land on red?", answer: "20", marks:2},
        {text: "24 × □ = 120. Write the missing number.", answer: "5", marks:1},
        {text: "Circle the multiple of 15: 45 72 85 105 128", answer: "105", marks:1},
        {text: "Rectangle area 48 cm², length 8 cm. What is its width?", answer: "6", marks:2},
        {text: "Cards: 12 42 57 72 87. Which two have a difference of 30?", answer: "42 and 72", marks:2},
        {text: "280 children, 30 per class. How many classes?", answer: "9", marks:2},
        {text: "Mean age of four children is 11. Three are 9, 10 and 14. How old is the fourth?", answer: "11", marks:2},
        {text: "Reflect the triangle in the mirror line. (Describe or say 'done')", answer: "correct reflection", marks:2},
        {text: "Bananas 3 for 90p, apples 35p each. Mia buys 6 bananas and 2 apples. Total cost?", answer: "2.50", marks:2}
    ];

    const paper3_2022 = paper2_2022; // Same for now

    function generateArithmetic() {
        const qs = [];
        for(let i = 1; i <= 36; i++) {
            const a = Math.floor(Math.random()*9000)+1000;
            const b = i <= 20 ? Math.floor(Math.random()*900)+100 : Math.floor(Math.random()*90)+10;
            const text = i <= 20 ? `${a} + ${b} =` : `${a} × ${b} =`;
            const ans = i <= 20 ? a + b : a * b;
            qs.push({text, answer: ans.toString(), marks: i > 30 ? 2 : 1});
        }
        return qs;
    }

    function startQuest(type) {
        document.getElementById('welcome').classList.add('hidden');
        document.getElementById('game').classList.remove('hidden');

        if(type==='arithmetic'){ paper=generateArithmetic(); timeLeft=1800; document.getElementById('level-title').textContent = "Paper 1: Arithmetic"; }
        else if(type==='reasoning2'){ paper=paper2_2022; timeLeft=2400; document.getElementById('level-title').textContent = "Paper 2: Reasoning (2022)"; }
        else { paper=paper3_2022; timeLeft=2400; document.getElementById('level-title').textContent = "Paper 3: Reasoning (2022)"; }

        document.getElementById('total').textContent = paper.length;
        document.getElementById('final-total').textContent = paper.length;
        q = 0; score = 0;
        updateProgress();
        loadQuestion();
        document.getElementById('timer').textContent = formatTime(timeLeft);
        timer = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').textContent = formatTime(timeLeft);
            if(timeLeft <= 0) endQuest();
        }, 1000);
    }

    function updateProgress() {
        const percent = (q / paper.length) * 100;
        document.getElementById('progress-bar').style.width = percent + '%';
        document.getElementById('progress-text').textContent = `${q} / ${paper.length} Complete!`;
        document.getElementById('score').textContent = score;

        // MILESTONE CELEBRATION
        if([10,20,30,35].includes(q)) {
            confetti({particleCount: 300, spread: 100, origin: { y: 0.4 }});
        }
    }

    function loadQuestion() {
        if(q >= paper.length) return endQuest();
        document.getElementById('q-number').textContent = q + 1;
        document.getElementById('question').innerHTML = paper[q].text;
        document.getElementById('answer-input').value = '';
        document.getElementById('feedback').innerHTML = '';
        document.getElementById('answer-input').focus();
    }

    function checkAnswer() {
        const user = document.getElementById('answer-input').value.trim().toLowerCase().replace('£','');
        const correct = paper[q].answer.toString().toLowerCase();
        if(user === correct){
            score += paper[q].marks || 1;
            correctSound.play();
            confetti({particleCount: 120, spread: 70, origin: { y: 0.6 }});
            document.getElementById('feedback').innerHTML = '<span style="color:green;">✓ Correct!</span>';
        } else {
            wrongSound.play();
            document.getElementById('feedback').innerHTML = `<span style="color:red;">✗ Answer: ${paper[q].answer}</span>`;
        }
        q++;
        updateProgress();
        setTimeout(loadQuestion, 1500);
    }

    function endEarly(){ clearInterval(timer); endQuest(); }
    function endQuest(){
        clearInterval(timer);
        document.getElementById('game').classList.add('hidden');
        document.getElementById('results').classList.remove('hidden');
        document.getElementById('final-score').textContent = score;
        const pct = Math.round((score / paper.length) * 100);
        document.getElementById('result-message').textContent = pct >= 90 ? "LEGENDARY 110+!" : pct >= 80 ? "GREATER DEPTH!" : "AMAZING EFFORT!";
    }
    function restart(){ location.reload(); }
    function formatTime(s){ const m = Math.floor(s/60), sec = s % 60; return `${m}:${sec<10?'0':''}${sec}`; }
</script>
</body>
</html>
