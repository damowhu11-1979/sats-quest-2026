<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SATs Quest 2026 – GitHub Style, Full Papers!</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {font-family: Arial, sans-serif; background: #f0f0f0; margin:0; padding:20px 0;}
        .header {background: linear-gradient(#003087, #005eb8); color: white; padding: 20px; text-align: center; font-weight: bold; border-top: 8px solid #003087;}
        .ks2 {background: #005eb8; color:white; padding:12px 20px; font-size:2.2em; border-radius:10px; display:inline-block; margin:15px 0;}
        .page {background:white; margin:20px auto; max-width:950px; box-shadow:0 10px 30px rgba(0,0,0,0.2);}
        .question-container {padding:50px 60px; color:#000;}
        .qnum {float:left; width:90px; font-size:4em; font-weight:bold; color:#003087; margin:20px 0;}
        .question-text {font-size:2.2em; margin:40px 0 30px 100px; line-height:1.5; text-align:left;}
        .answer-area {text-align:center; margin:50px 0;}
        #answer-input {width:300px; height:70px; font-size:2.4em; text-align:center; border:3px solid #000; border-radius:6px;}
        #timer {font-size:2.8em; color:#d00; font-weight:bold; text-align:center; margin:20px 0;}
        button {background:#005eb8; color:white; padding:16px 32px; font-size:1.8em; border:none; border-radius:8px; cursor:pointer; margin:15px;}
        button:hover {background:#003087;}
        .end-early {background:#e74c3c !important;}
        .hidden {display:none !important;}
        #feedback {font-size:2.2em; margin:40px 0; min-height:70px; text-align:center;}
        .working-box {border: 4px dotted #003087; background: #f8fbff; height: 320px; margin: 40px 0; padding:20px; font-size:1.6em; border-radius:8px;}
        #working-input {width:100%; height:100%; border:none; background:transparent; resize:none; font-size:1.2em; outline:none;}
        .progress-container {width:100%; background:#ddd; height:50px; border-radius:25px; overflow:hidden; margin:30px 0; position:relative;}
        .progress-bar {height:100%; width:0%; background: linear-gradient(90deg, #ff006e, #8338ec, #3a86ff, #06ffa5, #ffba08); transition: width 0.7s ease;}
        .progress-text {position:absolute; width:100%; text-align:center; line-height:50px; color:white; font-weight:bold; font-size:1.8em; text-shadow: 2px 2px 6px #000;}
        .cover-page {padding:80px 60px; text-align:center;}
        .cover-page h1 {font-size:4.5em; margin:30px 0;}
        .name-table {width:80%; margin:40px auto; border-collapse:collapse; font-size:1.6em;}
        .name-table td {border:1px solid #000; padding:15px; height:50px;}
        .name-input {width:100%; border:none; font-size:1em; text-align:center;}
        .barcode {margin:60px 0; font-size:2.8em; letter-spacing:6px;}
    </style>
</head>
<body>
<!-- WELCOME SCREEN -->
<div id="welcome" class="page">
    <div class="header">
        <div style="font-size:1.6em;">2026 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
    </div>
    <div class="question-container" style="text-align:center; padding-top:100px;">
        <h1 style="font-size:4em; color:#000;">Mathematics</h1>
        <br><br><br>
        <button onclick="startQuest('arithmetic')">Paper 1: Arithmetic<br><small>40 questions • 30 minutes</small></button><br><br><br>
        <button onclick="startQuest('reasoning2')">Paper 2: Reasoning<br><small>35 real 2022 questions • 40 minutes</small></button><br><br><br>
        <button onclick="startQuest('reasoning3')">Paper 3: Reasoning<br><small>35 real 2022 questions • 40 minutes</small></button>
    </div>
</div>
<!-- COVER SCREEN -->
<div id="official-cover" class="page hidden">
    <div class="header">
        <div style="font-size:1.6em;">2022 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
    </div>
    <div class="cover-page">
        <h1>Mathematics</h1>
        <h2 id="paper-title" style="font-size:3em;"></h2>
        <table class="name-table">
            <tr><td>First name</td><td><input type="text" id="first-name" class="name-input" placeholder="Enter first name"></td></tr>
            <tr><td>Last name</td><td><input type="text" id="last-name" class="name-input" placeholder="Enter last name"></td></tr>
        </table>
        <div class="barcode" id="barcode">*K00070A0124*</div>
        <br><br>
        <button onclick="startGame()" style="font-size:2em; padding:20px 60px;">Start Test</button>
    </div>
</div>
<!-- GAME SCREEN -->
<div id="game" class="page hidden">
    <div class="header">
        <div style="font-size:1.6em;">2022 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
        <h2 id="level-title" style="margin:10px; font-size:2em; color:white;"></h2>
    </div>
    <div class="question-container">
        <div id="timer">40:00</div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar">
                <div class="progress-text" id="progress-text">0 / 35</div>
            </div>
        </div>
        <p style="text-align:center; font-size:1.8em;">Score: <strong id="score">0</strong> / <strong id="total">35</strong></p>
        <div class="qnum" id="q-number">1</div>
        <div class="question-text" id="question"></div>
        <div class="working-box">
            <strong>Show your working</strong><br><br>
            <textarea id="working-input" placeholder="Type your working here..."></textarea>
        </div>
        <div class="answer-area">
            <input type="text" id="answer-input" placeholder="" autocomplete="off" onkeypress="if(event.key==='Enter') checkAnswer()">
        </div>
        <div style="text-align:center;">
            <button onclick="checkAnswer()">Submit Answer</button>
            <button onclick="endEarly()" class="end-early">End Test Early</button>
        </div>
        <div id="feedback"></div>
    </div>
</div>
<!-- RESULTS SCREEN -->
<div id="results" class="page hidden">
    <div class="header">
        <div style="font-size:1.6em;">2026 national curriculum tests</div>
        <div class="ks2">Key stage 2</div>
    </div>
    <div class="question-container" style="text-align:center; padding-top:120px;">
        <h1 style="font-size:4.5em;">Test Complete!</h1>
        <h1 style="font-size:6em; color:#005eb8;"><span id="final-score">0</span> / <span id="final-total">35</span></h1>
        <p id="result-message" style="font-size:3.2em; margin:50px;"></p>
        <button onclick="saveAsPDF()" style="font-size:2.2em; padding:20px 60px; background:#27ae60;">Save Results + Working as PDF</button>
        <br><br>
        <button onclick="restart()" style="font-size:2.2em; padding:20px 60px;">Back to Menu</button>
    </div>
</div>
<script>
    const { jsPDF } = window.jspdf;
    const correctSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3');
    const wrongSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3');
    let paper = [], q = 0, score = 0, timer, timeLeft;
    let studentName = "";
    let workings = [];
    // FULL 35 REAL 2022 PAPER 2 QUESTIONS
    const paper2Questions = [
        {text: "A shop has an offer.<br><br>Buy one box for £1.90<br>Get the second box half price.<br><br>Ali buys two boxes of cereal.<br><br>How much must he pay altogether?", answer: "2.85", marks:1},
        {text: "Write 3,405 in words.", answer: "three thousand four hundred and five", marks:1},
        {text: "Round 5,768 to the nearest thousand.", answer: "6000", marks:1},
        {text: "What is 10% of £360?", answer: "36", marks:1},
        {text: "Calculate 1,234 + 989.", answer: "2223", marks:1},
        {text: "What fraction of this shape is shaded? (8 equal parts, 3 shaded)", answer: "3/8", marks:1},
        {text: "Put these temperatures in order from coldest to hottest: –4°C, 3°C, –1°C, 7°C", answer: "−4°C, −1°C, 3°C, 7°C", marks:1},
        {text: "A pack of 36 pencils costs £5.40. What is the cost per pencil?", answer: "15p", marks:1},
        {text: "What is ½ of ¾?", answer: "3/8", marks:1},
        {text: "Complete: 3.2 kg = ___ grams", answer: "3200", marks:1},
        {text: "How many lines of symmetry does a regular pentagon have?", answer: "5", marks:1},
        {text: "Calculate 528 ÷ 12", answer: "44", marks:1},
        {text: "What is the perimeter of a rectangle 8 cm long and 5 cm wide?", answer: "26 cm", marks:1},
        {text: "Write 0.75 as a fraction in its simplest form.", answer: "3/4", marks:1},
        {text: "A film starts at 6:45 pm and lasts 2 hours 35 minutes. What time does it finish?", answer: "9:20 pm", marks:2},
        {text: "What is 15% of 240?", answer: "36", marks:1},
        {text: "How many millilitres are in 3.5 litres?", answer: "3500", marks:1},
        {text: "Calculate 807 – 369", answer: "438", marks:1},
        {text: "What is the mode of these numbers: 4, 7, 4, 9, 7, 4?", answer: "4", marks:1},
        {text: "Complete the sequence: 12, 19, 26, 33, ___", answer: "40", marks:1},
        {text: "A train travels 180 km in 3 hours. What is its average speed?", answer: "60 km/h", marks:2},
        {text: "What is 3/5 of 45?", answer: "27", marks:1},
        {text: "How many grams are in ¼ kilogram?", answer: "250", marks:1},
        {text
